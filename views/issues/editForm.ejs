<% layout('layouts/boilerplate') %>
    <div class="row">
        <div class="col-6 offset-3">
            <h1 class="text-center">Update Issue</h1>
            <form action="/issues/<%=issue._id%>?_method=PUT" method="POST" novalidate class="validated-issue">
                <div class="mb-3">
                    <label class="form-label" for="title">Title</label>
                    <input class="form-control" type="text" id="title" name="issue[title]" value="<%=issue.title%>"
                        required>
                    <div class="invalid-feedback">
                        Please provide a valid title.
                    </div>
                </div>
                <div class="mb-3">
                    <label class="form-label" for="description">Description</label>
                    <textarea class="form-control" type="text" id="description" name="issue[description]"
                        required><%=issue.description%></textarea>
                    <div class="invalid-feedback">
                        Please provide a valid description.
                    </div>
                </div>
                <div class="mb-3">
                    <label class="form-label" for="priority">Priority</label>
                    <input class="form-control" type="text" id="priority" name="issue[priority]"
                        placeholder="High, Medium, Low" value="<%= issue.priority %>" required>
                    <div class="invalid-feedback">
                        Please provide a valid priority.
                    </div>
                </div>
                <div class="mb-3">
                    <label class="form-label" for="status">Status</label>
                    <input class="form-control" type="text" id="status" name="issue[status]"
                        placeholder="Unassigned, Assigned, Resolved" value="<%= issue.status %>" required>
                    <div class="invalid-feedback">
                        Please provide a valid status.
                    </div>
                </div>
                <div class="mb-3">
                    <label class="form-label" for="image">Image Url</label>
                    <input class="form-control" type="text" id="image" name="issue[images]"
                        value="<%= issue.images[0]%>">
                </div>
                <div class=" mb-3">
                    <label class="form-label" for="assigned_to">Assigned To</label>
                    <input class="form-control" type="text" id="assigned_to" name="issue[assigned_to]"
                        value="<%= issue.assigned_to %>">
                </div>
                <!-- if status is assigned then fill this column -->
                <!-- not asked during input, job of admin to assign these values -->
                <!-- inclue modified date and modified by here -->

                <button class="btn btn-sm btn-addIssue">Update Issue</button>
            </form>
        </div>
    </div>
    <a href="/issues/<%=issue._id%>">Back To Issue</a>